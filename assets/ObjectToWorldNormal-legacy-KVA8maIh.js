System.register(["./index-legacy-m8obCYys.js","./Image-legacy-4alLSNr_.js","./utils-legacy-mF1CnsmR.js"],(function(s,a){"use strict";var t,n,l,e,r,i,u,c,m;return{setters:[function(s){t=s.aa,n=s.P,l=s.Q,e=s.a0,r=s.M,i=s.a7,u=s.R,c=s.ag},function(s){m=s._},null],execute:function(){var a={class:"md-blog m-auto text-left"},p=c('<h2 id="%E4%B8%BA%E4%BB%80%E4%B9%88%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E5%8F%98%E6%8D%A2%E5%88%B0%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E4%B8%8B%E9%9C%80%E8%A6%81%E5%8F%B3%E4%B9%98%E6%A8%A1%E5%9E%8B%E5%8F%98%E6%8D%A2%E7%9F%A9%E9%98%B5%E7%9A%84%E9%80%86%E7%9F%A9%E9%98%B5" tabindex="-1"><a class="header-anchor" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E5%8F%98%E6%8D%A2%E5%88%B0%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E4%B8%8B%E9%9C%80%E8%A6%81%E5%8F%B3%E4%B9%98%E6%A8%A1%E5%9E%8B%E5%8F%98%E6%8D%A2%E7%9F%A9%E9%98%B5%E7%9A%84%E9%80%86%E7%9F%A9%E9%98%B5" data-clickable=""><span>为什么法线向量变换到世界坐标下需要右乘模型变换矩阵的逆矩阵</span></a></h2><p>在 《Unity ShaderLab 新手宝典》 中 64 页给出了一个结论</p><blockquote><p>在顶点函数中，使用 Unity 提供的变换矩阵 <code>unity_ObjectToWorld</code> 将顶点坐标从模型空间变换到世界空间。为了避免非统一缩放的物体法线方向偏移，使用法线向量右乘逆矩阵的方式对其进行空间变换。</p></blockquote><p>即 <code>worldNormal = mul(vertex， (float3x3)unity_WorldToObject)</code> 。</p><p>首先解释为什么对于非统一缩放的物体，左乘模型变换矩阵可能会导致法线方向偏移。</p><p>考虑一个正方形，它的两条对角线是互相垂直的。</p>',6),o={class:"katex"},h={class:"katex-mathml"},f=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.4306em"}}),e("span",{class:"mord mathnormal"},"x")])],-1),d={class:"katex"},g={class:"katex-mathml"},b=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1.1901em","vertical-align":"-0.345em"}}),e("span",{class:"mord"},[e("span",{class:"mopen nulldelimiter"}),e("span",{class:"mfrac"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8451em"}},[e("span",{style:{top:"-2.655em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},"2")])])]),e("span",{style:{top:"-3.23em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),e("span",{style:{top:"-3.394em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},"1")])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.345em"}},[e("span")])])])]),e("span",{class:"mclose nulldelimiter"})])])],-1),_={class:"katex-display"},y={class:"katex"},v={class:"katex-mathml"},x=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6833em"}}),e("span",{class:"mord text"},[e("span",{class:"mord cjk_fallback"},"令")]),e("span",{class:"mspace"}," "),e("span",{class:"mord mathbf"},"n"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1.3998em","vertical-align":"-0.1944em"}}),e("span",{class:"mord accent"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"1.2053em"}},[e("span",{style:{top:"-3em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"A"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C")])]),e("span",{class:"svg-align",style:{top:"-3.6833em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"hide-tail",style:{height:"0.522em","min-width":"0.888em"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"0.522em",viewBox:"0 0 400000 522",preserveAspectRatio:"xMaxYMin slice"},[e("path",{d:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z"})])])])])])])]),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord mathbf"},"a"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1.2053em"}}),e("span",{class:"mord accent"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"1.2053em"}},[e("span",{style:{top:"-3em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D")])]),e("span",{class:"svg-align",style:{top:"-3.6833em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"hide-tail",style:{height:"0.522em","min-width":"0.888em"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"0.522em",viewBox:"0 0 400000 522",preserveAspectRatio:"xMaxYMin slice"},[e("path",{d:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z"})])])])])])])]),e("span",{class:"mspace"}," "),e("span",{class:"mord text"},[e("span",{class:"mord cjk_fallback"},"为列向量")])]),e("span",{class:"mspace newline"}),e("span",{class:"mspace newline"}),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8913em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8913em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord mathbf"},"a"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6444em"}}),e("span",{class:"mord"},"0")]),e("span",{class:"mspace newline"}),e("span",{class:"mspace newline"}),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8019em"}}),e("span",{class:"mord text"},[e("span",{class:"mord cjk_fallback"},"变换后")]),e("span",{class:"mspace"}," "),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8019em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.9963em","vertical-align":"-0.1944em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"Mn")]),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"a"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8019em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6861em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"Ma")])]),e("span",{class:"mspace newline"}),e("span",{class:"mspace newline"}),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1.0331em"}}),e("span",{class:"mord"},[e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8019em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"1.0331em"}},[e("span",{style:{top:"-3.2548em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"a"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8019em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8913em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8913em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"M"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8913em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"Ma")])])],-1),k={class:"katex"},w={class:"katex-mathml"},z=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6861em"}}),e("span",{class:"mord mathbf"},"M")])],-1),M={class:"katex"},E={class:"katex-mathml"},T=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8413em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"M"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8413em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord mathbf"},"M"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6861em"}}),e("span",{class:"mord mathbf"},"I")])],-1),B={class:"katex"},A={class:"katex-mathml"},j=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.9831em"}}),e("span",{class:"mord"},[e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.7519em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.9831em"}},[e("span",{style:{top:"-3.2048em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"a"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.7519em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6444em"}}),e("span",{class:"mord"},"0")])],-1),F={class:"katex"},L={class:"katex-mathml"},U=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.7519em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.7519em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])])])],-1),I={class:"katex"},D={class:"katex-mathml"},C=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.7519em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"a"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.7519em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])])])],-1),O={class:"katex"},N={class:"katex-mathml"},W=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.7519em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"a"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.7519em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])])])],-1),R={class:"katex"},S={class:"katex-mathml"},q=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.7519em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.7519em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])])])],-1),P={class:"katex-display"},Y={class:"katex"},K={class:"katex-mathml"},G=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1.0331em"}}),e("span",{class:"mord"},[e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8019em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"1.0331em"}},[e("span",{style:{top:"-3.2548em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"a"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8019em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8913em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8913em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"M"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8641em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},"−"),e("span",{class:"mord mtight"},"1")])])])])])])])]),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"Ma")]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8913em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8913em"}},[e("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord mathbf"},"a"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6444em"}}),e("span",{class:"mord"},"0")])],-1),H={class:"katex"},Z={class:"katex-mathml"},J=e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.9831em"}}),e("span",{class:"mord"},[e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.7519em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathbf mtight"},"′")])])])])])])])]),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.9831em"}},[e("span",{style:{top:"-3.2048em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8413em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"n"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8413em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),e("span",{class:"mord"},[e("span",{class:"mord mathbf"},"M"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8141em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},"−"),e("span",{class:"mord mtight"},"1")])])])])])])])])])],-1),Q=c('<p>以下为 <code>UnityCG.cginc</code> 中的法向量模型-世界变换函数原型。</p><pre class="language-cpp"><code class="language-cpp"><span class="token comment">// Transforms normal from object to world space</span>\n<span class="token keyword">inline</span> float3 <span class="token function">UnityObjectToWorldNormal</span><span class="token punctuation">(</span> in float3 norm <span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">UNITY_ASSUME_UNIFORM_SCALING</span></span>\n    <span class="token keyword">return</span> <span class="token function">UnityObjectToWorldDir</span><span class="token punctuation">(</span>norm<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>\n    <span class="token comment">// mul(IT_M, norm) =&gt; mul(norm, I_M) =&gt; {dot(norm, I_M.col0), dot(norm, I_M.col1), dot(norm, I_M.col2)}</span>\n    <span class="token keyword">return</span> <span class="token function">normalize</span><span class="token punctuation">(</span><span class="token function">mul</span><span class="token punctuation">(</span>norm<span class="token punctuation">,</span> <span class="token punctuation">(</span>float3x3<span class="token punctuation">)</span>unity_WorldToObject<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>\n<span class="token punctuation">}</span>\n</code></pre>',2),X=(s("title","法线向量的模型-世界变换"),s("date","2022-05-16T14:44:43.000Z"),s("toc",!0),s("math","md"));s("tags",["Unity","图形学","笔记"]),s("cover","https://s2.loli.net/2022/05/16/Um8rKAjiHdPbhLM.jpg"),s("grow",null),s("default",{__name:"ObjectToWorldNormal",setup:function(s,c){return(0,c.expose)({frontmatter:{title:"法线向量的模型-世界变换",date:"2022-05-16T14:44:43.000Z",toc:!0,math:"md",tags:["Unity","图形学","笔记"],cover:"https://s2.loli.net/2022/05/16/Um8rKAjiHdPbhLM.jpg",grow:null}}),function(s,c){var V=m,$=t("mi"),ss=t("mrow"),as=t("annotation"),ts=t("semantics"),ns=t("eq"),ls=t("mn"),es=t("mfrac"),rs=t("mtext"),is=t("mo"),us=t("mover"),cs=t("mspace"),ms=t("msup"),ps=t("eqn");return n(),l("div",a,[p,e("p",null,[r(V,{src:"https://s2.loli.net/2022/05/16/fgJo7bsYwK53uRd.jpg",alt:"20220516_1.jpg","show-toolbar-tooltip":""})]),e("p",null,[i("但在将其 "),r(ns,null,{default:u((function(){return[e("span",o,[e("span",h,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r($,null,{default:u((function(){return[i("x")]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("x")]})),_:1})]})),_:1})]})),_:1})]),f])]})),_:1}),i(" 方向变换为原来的 "),r(ns,null,{default:u((function(){return[e("span",d,[e("span",g,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(es,null,{default:u((function(){return[r(ls,null,{default:u((function(){return[i("1")]})),_:1}),r(ls,null,{default:u((function(){return[i("2")]})),_:1})]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\frac{1}{2}")]})),_:1})]})),_:1})]})),_:1})]),b])]})),_:1}),i(" 之后，两条对角线不再互相垂直。")]),e("p",null,[r(V,{src:"https://s2.loli.net/2022/05/16/PlUB19D8XnEmFof.jpg",alt:"20220516_2.jpg","show-toolbar-tooltip":""})]),e("p",null,[i("将上述变换写为矩阵乘法的形式， "),e("section",null,[r(ps,null,{default:u((function(){return[e("span",_,[e("span",y,[e("span",v,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(rs,null,{default:u((function(){return[i("令 ")]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(us,{accent:"true"},{default:u((function(){return[r(ss,null,{default:u((function(){return[r($,null,{default:u((function(){return[i("A")]})),_:1}),r($,null,{default:u((function(){return[i("C")]})),_:1})]})),_:1}),r(is,{stretchy:"true"},{default:u((function(){return[i("→")]})),_:1})]})),_:1}),r(is,{separator:"true"},{default:u((function(){return[i(",")]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(us,{accent:"true"},{default:u((function(){return[r(ss,null,{default:u((function(){return[r($,null,{default:u((function(){return[i("B")]})),_:1}),r($,null,{default:u((function(){return[i("D")]})),_:1})]})),_:1}),r(is,{stretchy:"true"},{default:u((function(){return[i("→")]})),_:1})]})),_:1}),r(rs,null,{default:u((function(){return[i(" 为列向量")]})),_:1}),r(cs,{linebreak:"newline"}),r(cs,{linebreak:"newline"}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ls,null,{default:u((function(){return[i("0")]})),_:1}),r(cs,{linebreak:"newline"}),r(cs,{linebreak:"newline"}),r(rs,null,{default:u((function(){return[i("变换后 ")]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ss,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1})]})),_:1}),r(is,{separator:"true"},{default:u((function(){return[i(",")]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ss,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1})]})),_:1}),r(cs,{linebreak:"newline"}),r(cs,{linebreak:"newline"}),r(ms,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r(ss,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1})]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i(" \\text{令}\\ \\mathbf{n} = \\overrightarrow{AC}, \\mathbf{a} = \\overrightarrow{BD} \\ \\text{为列向量}\\\\\\\\ \\mathbf{n}^T \\mathbf{a} = 0\\\\\\\\ \\text{变换后}\\ \\mathbf{n'} = \\mathbf{Mn}, \\mathbf{a'} = \\mathbf{Ma}\\\\\\\\ \\mathbf{n'}^T\\mathbf{a'} = \\mathbf{n}^T \\mathbf{M}^T \\mathbf{Ma} ")]})),_:1})]})),_:1})]})),_:1})]),x])])]})),_:1})])]),e("p",null,[i("由于模型变换矩阵 "),r(ns,null,{default:u((function(){return[e("span",k,[e("span",w,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\mathbf{M}")]})),_:1})]})),_:1})]})),_:1})]),z])]})),_:1}),i(" 并不一定是正交矩阵，无法保证 "),r(ns,null,{default:u((function(){return[e("span",M,[e("span",E,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("I")]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\mathbf{M}^T\\mathbf{M} = \\mathbf{I}")]})),_:1})]})),_:1})]})),_:1})]),T])]})),_:1}),i(" ，因此也就无法保证 "),r(ns,null,{default:u((function(){return[e("span",B,[e("span",A,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ls,null,{default:u((function(){return[i("0")]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\mathbf{n'}^T\\mathbf{a'} = 0")]})),_:1})]})),_:1})]})),_:1})]),j])]})),_:1}),i(" ，即 "),r(ns,null,{default:u((function(){return[e("span",F,[e("span",L,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\mathbf{n'}")]})),_:1})]})),_:1})]})),_:1})]),U])]})),_:1}),i(" 与 "),r(ns,null,{default:u((function(){return[e("span",I,[e("span",D,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\mathbf{a'}")]})),_:1})]})),_:1})]})),_:1})]),C])]})),_:1}),i(" 不一定垂直。")]),e("p",null,[i("从上式不难看出，如果想要变换后向量 "),r(ns,null,{default:u((function(){return[e("span",O,[e("span",N,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\mathbf{a'}")]})),_:1})]})),_:1})]})),_:1})]),W])]})),_:1}),i(" 与其法向量 "),r(ns,null,{default:u((function(){return[e("span",R,[e("span",S,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\mathbf{n'}")]})),_:1})]})),_:1})]})),_:1})]),q])]})),_:1}),i(" 仍保持垂直关系，那么一定有 "),e("section",null,[r(ps,null,{default:u((function(){return[e("span",P,[e("span",Y,[e("span",K,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r(ss,null,{default:u((function(){return[r(is,null,{default:u((function(){return[i("−")]})),_:1}),r(ls,null,{default:u((function(){return[i("1")]})),_:1})]})),_:1})]})),_:1}),r(ss,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1})]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r($,{mathvariant:"bold"},{default:u((function(){return[i("a")]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ls,null,{default:u((function(){return[i("0")]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i(" \\mathbf{n'}^T\\mathbf{a'} = \\mathbf{n}^T \\mathbf{M}^{-1} \\mathbf{Ma} = \\mathbf{n}^T \\mathbf{a} = 0 ")]})),_:1})]})),_:1})]})),_:1})]),G])])]})),_:1})]),i(" 故 "),r(ns,null,{default:u((function(){return[e("span",H,[e("span",Z,[r(X,{xmlns:"http://www.w3.org/1998/Math/MathML"},{default:u((function(){return[r(ts,null,{default:u((function(){return[r(ss,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r(is,{mathvariant:"bold",lspace:"0em",rspace:"0em"},{default:u((function(){return[i("′")]})),_:1})]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r(is,null,{default:u((function(){return[i("=")]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("n")]})),_:1}),r($,null,{default:u((function(){return[i("T")]})),_:1})]})),_:1}),r(ms,null,{default:u((function(){return[r($,{mathvariant:"bold"},{default:u((function(){return[i("M")]})),_:1}),r(ss,null,{default:u((function(){return[r(is,null,{default:u((function(){return[i("−")]})),_:1}),r(ls,null,{default:u((function(){return[i("1")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),r(as,{encoding:"application/x-tex"},{default:u((function(){return[i("\\mathbf{n'}^T = \\mathbf{n}^T \\mathbf{M}^{-1}")]})),_:1})]})),_:1})]})),_:1})]),J])]})),_:1}),i(" ，法向量需要右乘模型变换矩阵的逆变换矩阵。")]),Q])}}})}}}));
