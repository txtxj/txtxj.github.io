(()=>{(function(){let t=window.localStorage.getItem("theme")||"";t&&t!=="auto"&&l(t),window.addEventListener("load",()=>{document.querySelector(".header-nav--btn").addEventListener("click",function(){this.classList.toggle("open")});let n=document.querySelector("#theme-light"),o=document.querySelector("#theme-dark"),i=document.querySelector("#theme-auto");n.addEventListener("click",()=>l("light")),o.addEventListener("click",()=>l("dark")),i.addEventListener("click",()=>l("auto"));let s=d("[background-image-lazy]"),r=s.length;if(r>0){let a=new IntersectionObserver(function(c,p){c.forEach(function({isIntersecting:g,target:u}){if(g){let m=u.dataset.img;m&&(u.style.backgroundImage=`url(${m})`),a.unobserve(u),r--}r<=0&&a.disconnect()})});s.forEach(function(c){a.observe(c)})}h(),y()})})();function b(t){let e=t.split("-");return e.length===1?e[0]:e.reduce((n,o)=>n+o.toLowerCase().replace(/( |^)[a-z]/g,i=>i.toUpperCase()))}function f(t){let e={},n=["lrcType"],o=new Map([["true",!0],["false",!1]]);return t.getAttributeNames().filter(s=>s.startsWith("config-")).forEach(s=>{let r=b(s.replace("config-","")),a=t.getAttribute(s),c=o.get(a);c!==void 0?e[r]=c:n.includes(r)?e[r]=parseInt(a):e[r]=a}),e}function d(t){return Array.from(document.querySelectorAll(t))}function l(t){let e=document.documentElement;t==="auto"&&(e.classList.remove("theme-dark"),e.classList.remove("theme-light")),t==="dark"&&(e.classList.remove("theme-light"),e.classList.add("theme-dark")),t==="light"&&(e.classList.remove("theme-dark"),e.classList.add("theme-light")),window.localStorage.setItem("theme",t)}function h(){let t=d(".aplayer-box");t.length&&APlayer&&t.forEach(e=>{let n={container:e,audio:{...e.dataset}},o=f(e);new APlayer(Object.assign({},o,n))})}function y(){let t=d(".dplayer-box");t.length&&DPlayer&&t.forEach(e=>{let n={container:e,video:{...e.dataset}},o=f(e);new DPlayer(Object.assign({},o,n))})}})();
